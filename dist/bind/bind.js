define(["require", "exports", "./model", "../util/visit", "./bindattribute", "./bindnode"], function (require, exports, model_1, visit_1, bindattribute_1, bindnode_1) {
    var regex = /\{\{(.+)\}\}/gm;
    exports.regex = regex;
    function bind(node, model) {
        if (!!node.dontVisit)
            return false;
        if (node.attributes) {
            Array.prototype.forEach.call(node.attributes, function (attr) {
                bindattribute_1.default(node, attr, model);
            });
        }
        if (!!node.dontVisit)
            return false;
        bindnode_1.default(node, model);
        return true;
    }
    function bindDom(dom, models) {
        var model = new model_1.default(models);
        visit_1.default(dom, function (node) {
            return bind(node, model);
        });
    }
    exports.bindDom = bindDom;
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJpbmQvYmluZC50cyJdLCJuYW1lcyI6WyJiaW5kIiwiYmluZERvbSJdLCJtYXBwaW5ncyI6IjtJQU1BLElBQUksS0FBSyxHQUFHLGdCQUFnQjtJQTJCcEIsYUFBSyxTQTNCZ0I7SUFHN0IsY0FBYyxJQUFTLEVBQUUsS0FBVztRQUNuQ0EsRUFBRUEsQ0FBQUEsQ0FBQ0EsQ0FBQ0EsQ0FBT0EsSUFBS0EsQ0FBQ0EsU0FBU0EsQ0FBQ0E7WUFDMUJBLE1BQU1BLENBQUNBLEtBQUtBLENBQUNBO1FBRWRBLEVBQUVBLENBQUFBLENBQUNBLElBQUlBLENBQUNBLFVBQVVBLENBQUNBLENBQUNBLENBQUNBO1lBQ3BCQSxLQUFLQSxDQUFDQSxTQUFTQSxDQUFDQSxPQUFPQSxDQUFDQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQSxVQUFVQSxFQUFFQSxVQUFBQSxJQUFJQTtnQkFDakRBLHVCQUFhQSxDQUFDQSxJQUFJQSxFQUFFQSxJQUFJQSxFQUFFQSxLQUFLQSxDQUFDQSxDQUFDQTtZQUNsQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7UUFDSkEsQ0FBQ0E7UUFFREEsRUFBRUEsQ0FBQUEsQ0FBQ0EsQ0FBQ0EsQ0FBT0EsSUFBS0EsQ0FBQ0EsU0FBU0EsQ0FBQ0E7WUFDMUJBLE1BQU1BLENBQUNBLEtBQUtBLENBQUNBO1FBRWRBLGtCQUFRQSxDQUFDQSxJQUFJQSxFQUFFQSxLQUFLQSxDQUFDQSxDQUFDQTtRQUN0QkEsTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0E7SUFDYkEsQ0FBQ0E7SUFFRCxpQkFBaUIsR0FBTyxFQUFFLE1BQWlCO1FBQzFDQyxJQUFJQSxLQUFLQSxHQUFHQSxJQUFJQSxlQUFLQSxDQUFDQSxNQUFNQSxDQUFDQSxDQUFDQTtRQUM5QkEsZUFBS0EsQ0FBQ0EsR0FBR0EsRUFBRUEsVUFBQUEsSUFBSUE7WUFDZEEsTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsSUFBSUEsRUFBRUEsS0FBS0EsQ0FBQ0EsQ0FBQUE7UUFDekJBLENBQUNBLENBQUNBLENBQUNBO0lBQ0pBLENBQUNBO0lBRWMsZUFBTyxXQUZyQjtJQUVzQiIsImZpbGUiOiJiaW5kL2JpbmQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0RvbX0gZnJvbSBcIi4uL3V0aWwvdHlwZXNcIlxyXG5pbXBvcnQgTW9kZWwgZnJvbSBcIi4vbW9kZWxcIlxyXG5pbXBvcnQgdmlzaXQgZnJvbSBcIi4uL3V0aWwvdmlzaXRcIlxyXG5pbXBvcnQgYmluZEF0dHJpYnV0ZSBmcm9tIFwiLi9iaW5kYXR0cmlidXRlXCJcclxuaW1wb3J0IGJpbmROb2RlIGZyb20gXCIuL2JpbmRub2RlXCJcclxuXHJcbmxldCByZWdleCA9IC9cXHtcXHsoLispXFx9XFx9L2dtO1xyXG5cclxuXHJcbmZ1bmN0aW9uIGJpbmQobm9kZTpOb2RlLCBtb2RlbDpNb2RlbCk6IGJvb2xlYW4ge1xyXG5cdGlmKCEhKDxhbnk+bm9kZSkuZG9udFZpc2l0KVxyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFxyXG5cdGlmKG5vZGUuYXR0cmlidXRlcykge1xyXG5cdFx0QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChub2RlLmF0dHJpYnV0ZXMsIGF0dHIgPT4ge1xyXG5cdFx0XHRiaW5kQXR0cmlidXRlKG5vZGUsIGF0dHIsIG1vZGVsKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHRcclxuXHRpZighISg8YW55Pm5vZGUpLmRvbnRWaXNpdClcclxuXHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFxyXG5cdGJpbmROb2RlKG5vZGUsIG1vZGVsKTtcclxuXHRyZXR1cm4gdHJ1ZTtcclxufVxyXG5cclxuZnVuY3Rpb24gYmluZERvbShkb206RG9tLCBtb2RlbHM6QXJyYXk8YW55Pik6IHZvaWQge1xyXG5cdGxldCBtb2RlbCA9IG5ldyBNb2RlbChtb2RlbHMpO1xyXG5cdHZpc2l0KGRvbSwgbm9kZT0+e1xyXG5cdFx0cmV0dXJuIGJpbmQobm9kZSwgbW9kZWwpXHJcblx0fSk7XHJcbn1cclxuXHJcbmV4cG9ydCB7cmVnZXgsIGJpbmREb219Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9